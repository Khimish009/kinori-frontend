# Kinori

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

**Kinori** ‚Äî privacy-first –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–µ–Ω–µ–∞–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏, —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–º–µ–π–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ (—Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç—ã) –∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ —Å—Å—ã–ª–∫–µ**, **–∑–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞**, **–º–æ–¥–µ—Ä–∞—Ü–∏—é** –∏ **–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∞–≤–æ–∫** (suggestions).

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (MVP)

- **–ú—É–ª—å—Ç–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å**: –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ä–µ–≤—å–µ–≤.
- **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –¥–µ—Ä–µ–≤—å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ.
- **Share-—Å—Å—ã–ª–∫–∞ —Å LIMITED VIEW**:
  - –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ **—É–º–µ—Ä—à–∏–µ**;
  - **–±–µ–∑ –º–µ–¥–∏–∞**;
  - **–±–µ–∑ —Ç–æ—á–Ω—ã—Ö –¥–∞—Ç** (–¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ **–≥–æ–¥—ã**);
  - UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –¥–æ—Å—Ç—É–ø–∞.
- **–ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ (AccessRequest)**:
  - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å;
  - –≤–ª–∞–¥–µ–ª–µ—Ü/–º–æ–¥–µ—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è FULL VIEW.
- **–†–æ–ª–∏**: Owner / Moderator / Viewer.
- **Suggestions (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∞–≤–æ–∫)**:
  - Viewer –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è;
  - Moderator –ø—Ä–∏–Ω–∏–º–∞–µ—Ç/–æ—Ç–∫–ª–æ–Ω—è–µ—Ç (–∞–Ω–∞–ª–æ–≥ pull request).
- **–ú–µ–¥–∏–∞–∞—Ä—Ö–∏–≤**:
  - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ PDF (–≤ –±—É–¥—É—â–µ–º –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ);
  - –ø—Ä–∏–≤—è–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫ –ø–µ—Ä—Å–æ–Ω–∞–º.
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: in-app + email + Telegram (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á—ë–Ω).

---

## üß≠ Roadmap

### –≠—Ç–∞–ø 0 (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ –º–æ–∫–∏)

- OpenAPI + DTO
- Mock API (MSW)
- Webpack —Å–±–æ—Ä–∫–∞ + i18n/RTL –∫–∞—Ä–∫–∞—Å
- UI –¥–µ—Ä–µ–≤–∞ –Ω–∞ –º–æ–∫-–¥–∞–Ω–Ω—ã—Ö

### MVP

- Auth (JWT access+refresh, reset password)
- Trees / Persons / Relationships + Subtree API
- ShareLink limited view + AccessRequest approve/reject
- Suggestions + –º–æ–¥–µ—Ä–∞—Ü–∏—è
- Media (pre-signed upload, link to person)
- Notifications: in-app + email + Telegram

### v1

- GEDCOM import (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) + export
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Ñ–∞–∫—Ç–æ–≤/–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ü—Ä–µ–≤—å—é/–º–∏–Ω–∏–∞—Ç—é—Ä—ã –∏ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Ä–æ–ª—å Editor

---

## üèõ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **Variant A: tree-scoped persons** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞ –∂–∏–≤—ë—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ (`Person` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç `Tree`).
- **Front-first** ‚Äî UI —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –º–æ–∫–∞—Ö –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ; backend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É API.
- **Privacy-by-default** ‚Äî –∂–∏–≤—ã–µ –ª—é–¥–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ limited view; –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–æ ‚Äú–∂–∏–≤–æ–π/—É–º–µ—Ä—à–∏–π‚Äù —Å –ø–æ—Ä–æ–≥–æ–º `X`.
- **Subtree loading** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç —á–∞—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É (`depthUp/depthDown`), –Ω–µ ‚Äú–≤—Å—ë –¥–µ—Ä–µ–≤–æ —Å—Ä–∞–∑—É‚Äù.

---

## üîê –í–∏–¥–∏–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### LIMITED VIEW (–ø–æ —Å—Å—ã–ª–∫–µ)

- –ø–æ–∫–∞–∑—ã–≤–∞–µ–º: —Ç–æ–ª—å–∫–æ —É–º–µ—Ä—à–∏—Ö, –∏–º–µ–Ω–∞, –ø–æ–ª, –≥–æ–¥—ã (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã), —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–º–µ—Ä—à–∏–º–∏
- —Å–∫—Ä—ã–≤–∞–µ–º: –∂–∏–≤—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é, –º–µ–¥–∏–∞, —Ç–æ—á–Ω—ã–µ –¥–∞—Ç—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### FULL VIEW (–¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–µ—Ä–µ–≤–∞)

- –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è –º–µ–¥–∏–∞ –∏ –ø–æ–ª–Ω—ã–µ –¥–∞—Ç—ã (—Å —É—á—ë—Ç–æ–º —Ç–æ—á–Ω–æ—Å—Ç–∏)

---

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–ø–ª–∞–Ω)

### Frontend

- React + TypeScript
- **Webpack (–∫–∞—Å—Ç–æ–º–Ω–∞—è —Å–±–æ—Ä–∫–∞)** (HMR/Fast Refresh, code splitting, assets)
- i18n + RTL (–∞—Ä–∞–±—Å–∫–∏–π) —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞
- MSW –¥–ª—è –º–æ–∫–æ–≤
- Tree UI: react-flow (MVP)

### Backend

- Node.js + NestJS
- PostgreSQL + Prisma
- Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è rate limit / –æ—á–µ—Ä–µ–¥–µ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

### Storage

- S3-compatible (AWS S3 / Cloudflare R2 / MinIO –¥–ª—è dev)
- Upload —á–µ—Ä–µ–∑ pre-signed URL

### Deploy

- VPS + Docker Compose + Nginx

---
